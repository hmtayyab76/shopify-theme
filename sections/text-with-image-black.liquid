{% schema %}
{
  "name": "Image with Text Black",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title"
    },
    {
      "type": "image_picker",
      "id": "image_heading",
      "label": "Heading Image"
    },
     {
      "type": "text",
      "id": "discription",
      "label": "Discription"
    }
  ],
  "blocks": [
    {
      "type": "multi_block",
      "name": "Multi-block",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },

        {
          "type": "text",
          "id": "block_heading",
          "label": "Heading",
          "default": "Revitalize Your Nerves, Reclaim Your Life"
        },
        {
          "type": "richtext",
          "id": "block_content",
          "label": "Text Content",
        },
        {
          "type": "text",
          "id": "button_content",
          "label": "Button Content"
        },
         {
          "type": "text",
          "id": "text_1",
          "label": "List Text One"
        },
        {
          "type": "text",
          "id": "text_2",
          "label": "List Text Second"
        },
        {
          "type": "text",
          "id": "text_3",
          "label": "List Text third"
        },
        {
          "type": "text",
          "id": "text_4",
          "label": "List Text Fourth"
        },
        {
          "type": "text",
          "id": "text_5",
          "label": "List Text Five"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "Button URL"
        },
        {
            "type": "checkbox",
            "id": "checked",
            "label": "Swap Position",
            "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Image with Text"
    }
  ]
}
{% endschema %}

<style>
                  .multi-block-section {
                    padding: 120px 0 0;
                    background-color: #000;
                  }

                .container-{{ section.id }} {
                  max-width: 1200px;
                  margin: 0 auto;
                  padding: 0 20px;
                }

                .multi-block {
                  display: flex;
                  gap: 60px;
                  justify-content: space-between;
                  align-items: flex-start;
                  padding-bottom: 120px;

                  color: #fff;
                  overflow:hidden;
                  border-radius: 8px;
                  overflow: hidden;
                }
                /* Image Div */
                .multi-block .image-mb {
                  width: 50%;
                  height:100%;

                }



              .ciwt-4-d11 {
                display: flex;
                align-items: center;
                gap: 10px;
                margin: 0 !important;
              }
              .ciwt-4-d11 p {
  color: #FFF;
  font-family: Nunito;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
                margin: 0 !important;
              }
              .ciwt-4-d11-main {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
                margin: 0 0 16px !important;
              }
                .multi-block .image-mb img {
                  max-width: 100%;
                  object-fit: cover;
                  height: 451.097px;
                  opacity: 0;
                  transition: opacity 0.5s ease-in-out;
                }

                .multi-block .content-{{ section.id }} {
                  flex: 1;
                  padding: 0;
                  width:50%;
                  height:100%;


                  display: flex;
                flex-direction: column;
                justify-content: center;
                }

                .multi-block.image-left .content-{{ section.id }} {
                  order: 2;
                }

                .multi-block.image-right .content-{{ section.id }} {
                  order: 1;
                }




                .sub-title-{{ section.id }}{
                 color: #FFF;
                  font-family: Nunito;
                  font-size: 16px;
                  font-style: normal;
                  font-weight: 400;
                  line-height: 25px; /* 156.25% */
                  margin-bottom: 16px;

                }
          .sub-title-{{ section.id }} > p:first-child{
                 color: #FFF;
                  font-family: Nunito;
                  font-size: 16px;
                  font-style: normal;
                  font-weight: 400;
                  line-height: 25px; /* 156.25% */
                  margin-bottom: 16px;

                }
                .main-title-{{ section.id }}{
                  color: #FFF;
                  font-family: "Nunito Sans";
                  font-size: 28px;
                  font-style: normal;
                  font-weight: 400;
                  line-height: 120%; /* 33.6px */
                  margin:0;
                  margin-bottom: 16px;

                }
              .button-parent-d11{
                display: flex;
            max-width: 360px;
            padding: 16px 90px !important;
            justify-content: center;
            align-items: center;
            gap: 10px;
                color: #FFF;
            font-family: Nunito;
            font-size: 14px !important;
            font-style: normal;
            font-weight: 600;
            line-height: normal;
                    text-decoration: none;
                border-radius: 5px;
          background: #648291;
              }

               /* Responsive Styles */
              @media screen and (max-width: 768px) {
                .button-parent-d11{
                  color: #FFF;
        font-family: Nunito;
        font-size: 14px;
        font-style: normal;
        font-weight: 600;
        line-height: normal;
                }

                       .sub-title-{{ section.id }}{
                color: #FFF;
        font-family: Nunito;
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 25px; /* 178.571% */
                  margin-bottom: 16px;

                }
          .sub-title-{{ section.id }} > p:first-child{

                  margin-bottom: 8px;

                }
                .main-title-{{ section.id }}{
                  color: #FFF;
        font-family: "Nunito Sans";
        font-size: 24px;
        font-style: normal;
        font-weight: 400;
        line-height: 120%; /* 28.8px */
                  margin:0;
                  margin-bottom: 8px;

                }



                 .multi-block-section {
                    padding: 60px 0 0;
                    background-color: #000;
                  }

                 .multi-block {

                  flex-wrap: wrap;
                   gap:30px;
                   padding-bottom: 60px;
                 }
                 .multi-block .image-mb {
                  width: 100%;
                  height:100%;

                }
                .multi-block img {
                  max-width: 100%;
                  height: 100% !important;
                  border-radius: 8px 8px 0 0;
                }



                h2 {
                  font-size: 24px;
                  margin-bottom: 20px;
                }
              }

              @media screen and (max-width: 600px) {
                .multi-block img {
                  max-width: 100%;
                  border-radius: 8px 8px 0 0;
                }
                .multi-block .image-mb {
                  width: 100%;
                  height:265px;

                }
                .multi-block {
                  height:auto;
                }
                .multi-block .content-{{ section.id }} {
                  padding:0px;
                  width:100%;
                }
                .multi-block:hover img {
                  transform: translateY(-10px);
                }

                h2 {
                  font-size: 20px;
                  margin-bottom: 20px;
                }
              }


                .image-left {
                  flex-direction: row-reverse;
                }
</style>
<section class="multi-block-section">
  {% render 'heading',
    heading: section.settings.section_title,
    discription: section.settings.discription,
    image: section.settings.image_heading
  %}
  <div class="container-{{ section.id }}">
    {% for block in section.blocks %}
      <!-- Check content_position setting to determine the content position -->
      <div class="multi-block {% if block.settings.checked %}image-left{% endif %}">
        <div class="image-mb">
          {% if block.settings.image %}
            <img
              src="{{ block.settings.image | image_url }}"
              alt="{{ block.settings.image }}"
              width="100%"
              height="100%"
            >
          {% else %}
            <div
              class="image-with-text__media image-with-text__media--small gradient color-background-2 global-media-settings image-with-text__media--placeholder placeholder"
              style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;"
            >
              <svg class="placeholder-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 525.5 525.5">
                <path d="M324.5 212.7H203c-1.6 0-2.8 1.3-2.8 2.8V308c0 1.6 1.3 2.8 2.8 2.8h121.6c1.6 0 2.8-1.3 2.8-2.8v-92.5c0-1.6-1.3-2.8-2.9-2.8zm1.1 95.3c0 .6-.5 1.1-1.1 1.1H203c-.6 0-1.1-.5-1.1-1.1v-92.5c0-.6.5-1.1 1.1-1.1h121.6c.6 0 1.1.5 1.1 1.1V308z"></path><path d="M210.4 299.5H240v.1s.1 0 .2-.1h75.2v-76.2h-105v76.2zm1.8-7.2l20-20c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l1.5 1.5 16.8 16.8c-12.9 3.3-20.7 6.3-22.8 7.2h-27.7v-5.5zm101.5-10.1c-20.1 1.7-36.7 4.8-49.1 7.9l-16.9-16.9 26.3-26.3c1.6-1.6 3.8-2.5 6.1-2.5s4.5.9 6.1 2.5l27.5 27.5v7.8zm-68.9 15.5c9.7-3.5 33.9-10.9 68.9-13.8v13.8h-68.9zm68.9-72.7v46.8l-26.2-26.2c-1.9-1.9-4.5-3-7.3-3s-5.4 1.1-7.3 3l-26.3 26.3-.9-.9c-1.9-1.9-4.5-3-7.3-3s-5.4 1.1-7.3 3l-18.8 18.8V225h101.4z"></path><path d="M232.8 254c4.6 0 8.3-3.7 8.3-8.3s-3.7-8.3-8.3-8.3-8.3 3.7-8.3 8.3 3.7 8.3 8.3 8.3zm0-14.9c3.6 0 6.6 2.9 6.6 6.6s-2.9 6.6-6.6 6.6-6.6-2.9-6.6-6.6 3-6.6 6.6-6.6z"></path>
              </svg>
            </div>
          {% endif %}
        </div>
        <div class="content-{{ section.id }}">
          <h2 class="main-title-{{ section.id }}">{{ block.settings.block_heading }}</h2>
          <div class="sub-title-{{ section.id }}">
            {{ block.settings.block_content }}
          </div>
          <div class="ciwt-4-d11-main">
            {% if block.settings.text_1 != blank %}
              <div class="ciwt-4-d11">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 16" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.00546 12.1954L5.98432 12.1769L5.96494 12.1954L2.69053 8.92074L3.8548 7.75726L5.98432 9.89044L11.1452 4.7275L12.3086 5.89185L6.00546 12.1954ZM7.49913 0.961426C3.35898 0.961426 0 4.3206 0 8.46187C0 12.6031 3.35898 15.9614 7.49913 15.9614C11.6402 15.9614 15 12.6031 15 8.46187C15 4.3206 11.6402 0.961426 7.49913 0.961426Z" fill="white"/>
                </svg>
                <p>{{ block.settings.text_1 }}</p>
              </div>
            {% endif %}
            {% if block.settings.text_2 != blank %}
              <div class="ciwt-4-d11">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 16" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.00546 12.1954L5.98432 12.1769L5.96494 12.1954L2.69053 8.92074L3.8548 7.75726L5.98432 9.89044L11.1452 4.7275L12.3086 5.89185L6.00546 12.1954ZM7.49913 0.961426C3.35898 0.961426 0 4.3206 0 8.46187C0 12.6031 3.35898 15.9614 7.49913 15.9614C11.6402 15.9614 15 12.6031 15 8.46187C15 4.3206 11.6402 0.961426 7.49913 0.961426Z" fill="white"/>
                </svg>
                <p>{{ block.settings.text_2 }}</p>
              </div>
            {% endif %}
            {% if block.settings.text_3 != blank %}
              <div class="ciwt-4-d11">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 16" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.00546 12.1954L5.98432 12.1769L5.96494 12.1954L2.69053 8.92074L3.8548 7.75726L5.98432 9.89044L11.1452 4.7275L12.3086 5.89185L6.00546 12.1954ZM7.49913 0.961426C3.35898 0.961426 0 4.3206 0 8.46187C0 12.6031 3.35898 15.9614 7.49913 15.9614C11.6402 15.9614 15 12.6031 15 8.46187C15 4.3206 11.6402 0.961426 7.49913 0.961426Z" fill="white"/>
                </svg>
                <p>{{ block.settings.text_3 }}</p>
              </div>
            {% endif %}
            {% if block.settings.text_4 != blank %}
              <div class="ciwt-4-d11">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 16" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.00546 12.1954L5.98432 12.1769L5.96494 12.1954L2.69053 8.92074L3.8548 7.75726L5.98432 9.89044L11.1452 4.7275L12.3086 5.89185L6.00546 12.1954ZM7.49913 0.961426C3.35898 0.961426 0 4.3206 0 8.46187C0 12.6031 3.35898 15.9614 7.49913 15.9614C11.6402 15.9614 15 12.6031 15 8.46187C15 4.3206 11.6402 0.961426 7.49913 0.961426Z" fill="white"/>
                </svg>
                <p>{{ block.settings.text_4 }}</p>
              </div>
            {% endif %}
            {% if block.settings.text_5 != blank %}
              <div class="ciwt-4-d11">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 16" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.00546 12.1954L5.98432 12.1769L5.96494 12.1954L2.69053 8.92074L3.8548 7.75726L5.98432 9.89044L11.1452 4.7275L12.3086 5.89185L6.00546 12.1954ZM7.49913 0.961426C3.35898 0.961426 0 4.3206 0 8.46187C0 12.6031 3.35898 15.9614 7.49913 15.9614C11.6402 15.9614 15 12.6031 15 8.46187C15 4.3206 11.6402 0.961426 7.49913 0.961426Z" fill="white"/>
                </svg>
                <p>{{ block.settings.text_5 }}</p>
              </div>
            {% endif %}
          </div>
          {% if block.settings.button_content != blank %}
            <a href="{{ block.settings.button_url }}" class="button button-parent-d11">
              {{ block.settings.button_content }}
            </a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</section>
<script>
  document.addEventListener("DOMContentLoaded", function() {

    const images = document.querySelectorAll(".multi-block img");

    const options = {
      root: null,
      rootMargin: "0px",
      threshold: 0.3
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = 1;
          observer.unobserve(entry.target);
        }
      });
    }, options);

    images.forEach((image) => {
      observer.observe(image);
    });
  });
</script>
