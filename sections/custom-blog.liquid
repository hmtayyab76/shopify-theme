{% comment %}
  This is a Liquid file for adding custom blogs via the Shopify customizer.
  It allows you to add blogs with title, content, and image one by one, with presets.
{% endcomment %}

{% schema %}
{
  "name": "Custom Blog",
  "settings": [
    {
      "type": "text",
      "id": "blog_title",
      "label": "Blog Title",
      "default": "Blog title"
    },
    {
      "type": "textarea",
      "id": "blog_content",
      "label": "Blog Content",
      "default": " Blog content Reference site about Lorem Ipsum, giving information on its origins, as well as a random Lipsum generator."
    },
    {
        "type": "image_picker",
        "id": "blog_image",
        "label": "Blog Image"
    },
    {
      "type": "select",
      "id": "blog_preset",
      "label": "Blog Presets",
      "default": "preset1", 
      "options": [
        {
          "value": "preset1",
          "label": "Preset 1"
        },
        {
          "value": "preset2",
          "label": "Preset 2"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Blog",
      "category": "Blog",
      "settings": {
        "blog_title": "My Blog Title",
        "blog_content": "This is a sample blog content.",
        "blog_preset": "preset1"
      }
    }
  ]
}
{% endschema %}

<style>
    .custom-blogs {
        margin: 20px;
        display:flex;
        flex-wrap:wrap;
        justify-content:center;
      }
      
      .custom-blog {
        background-color: #f9f9f9;
        border-radius: 5px;
        width:300px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin:10px;
        margin-bottom: 20px;
        cursor:pointer; 
        transition: box-shadow 0.3s ease;
      }
      .custom-blog:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Add animated shadow effect on hover */
      }
      .custom-blog h2 {
        color: #333;
        font-size: 24px;
        margin-bottom: 10px;
      }
      
      .custom-blog p {
        color: #666;
        font-size: 16px;
        line-height: 1.5;
        margin-bottom: 20px;
      }
      
      .custom-blog img {
        max-width: 100%;
        height: auto;
        display: block;
        margin-bottom: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
</style>

{% comment %}
  Render the added blogs.
{% endcomment %}
<div class="custom-blogs">
    {% for i in (1..8) %}    
    <div class="custom-blog">
        <h2>{{ section.settings.blog_title }} {{ i }}</h2>
        <p>{{ section.settings.blog_content }}</p>
        {% if section.settings.blog_image %}
          <img src="{{ section.settings.blog_image | img_url: 'medium' }}" alt="{{ section.settings.blog_title }}" width="auto" height="auto">
        {% endif %}
      </div>
    {% endfor %}
</div>
<div class="custom-blogs">
    {% for i in (1..10) %}
      {% assign blog_title_key = 'blog_title_' | append: i %}
      {% assign blog_content_key = 'blog_content_' | append: i %}
      {% assign blog_image_key = 'blog_image_' | append: i %}
      {% assign blog_button_text_key = 'blog_button_text_' | append: i %}
      {% assign blog_button_link_key = 'blog_button_link_' | append: i %}
      
      {% assign blog_title = section.settings[blog_title_key] %}
      {% assign blog_content = section.settings[blog_content_key] %}
      {% assign blog_image = section.settings[blog_image_key] %}
      {% assign blog_button_text = section.settings[blog_button_text_key] %}
      {% assign blog_button_link = section.settings[blog_button_link_key] %}
      
      {% if blog_title != "Blog title" and blog_content != "Blog content" and blog_image != "" %}
        <div class="custom-blog">
          <h2>{{ blog_title }}</h2>
          <p>{{ blog_content }}</p>
          {% if blog_image %}
            <img src="{{ section.settings.blog_image | img_url: 'medium' }}" alt="{{ section.settings.blog_title }}" width="auto" height="auto">

          {% endif %}
          {% if blog_button_text and blog_button_link %}
            <a href="{{ blog_button_link }}" class="custom-blog-button">{{ blog_button_text }}</a>
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}
  </div>